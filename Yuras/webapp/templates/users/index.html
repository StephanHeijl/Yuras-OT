{% extends "layout/master.html" %} 
{% block index %}
{{ deferJS("/assets/js/yuras.js", 1) }}
	<div class="container">
		
		<div class="row">
			
			<div class="col-lg-12">
				<h2>Users</h2>
				
				<a class="btn btn-default" href="new"><span class="glyphicon glyphicon-user"></span> New user</a>
				
				<table class="table table-striped">
					<thead>
						<tr>
							<th> </th>
							<th> Username </th>
							<th> Email </th>
							<th> Created </th>
							<th> Actions </th>
						</tr>						
					</thead>
					<tbody>
						{% for user in users %} 
						<tr>
							<td width=10>
								{% if user._id == current_user._id %}
									<span title="This is you" class="glyphicon glyphicon-star" style="opacity:0.5;"></span>
								{% endif %}
							</td>
							<td>
								
								<a href="/users/{{user._id}}">
								{{ user.username }}
								</a>
								
							</td>
							<td>{{ user.email }}</td>
							<td>{{ user._created.strftime("%d-%m-%Y %H:%M:%S") }}</td>
							<td>
								<a href="/users/{{ user._id }}/delete" data-csrf="{{ csrf_token() }}"><span class="glyphicon glyphicon-trash"></span></a>
								<a href="/users/{{ user._id }}/edit"><span class="glyphicon glyphicon-pencil"></span></a>
							</td>
						</tr>					
						{% endfor %}
					</tbody>
				</table>
				
			</div>

		</div>

	</div>
{% endblock %}